# üöÄ Adaptive Transport - –†–æ–∑—É–º–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–ª—è –ø–æ–≥–∞–Ω–æ–≥–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É

## üìñ –©–æ —Ü–µ?

**Adaptive Transport** - —Ü–µ —Å–∏—Å—Ç–µ–º–∞ —Ä–æ–∑—É–º–Ω–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —Ç–∞ –º–µ–¥—ñ–∞, —è–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∞–¥–∞–ø—Ç—É—î—Ç—å—Å—è –¥–æ —è–∫–æ—Å—Ç—ñ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–∑'—î–¥–Ω–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

### –ü—Ä–æ–±–ª–µ–º–∞ —è–∫—É –≤–∏—Ä—ñ—à—É—î:

‚ùå **–ë—É–ª–æ:**
- –ú–µ—Å–µ–Ω–¥–∂–µ—Ä –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –í–°–ï –æ–¥—Ä–∞–∑—É (—Ç–µ–∫—Å—Ç + —Ñ–æ—Ç–æ + –≤—ñ–¥–µ–æ)
- –ü—Ä–∏ –ø–æ–≥–∞–Ω–æ–º—É —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—ñ - –∑–∞–≤–∏—Å–∞—î —ñ –Ω—ñ—á–æ–≥–æ –Ω–µ –ø–æ–∫–∞–∑—É—î
- –í–∏—Ç—Ä–∞—á–∞—î—Ç—å—Å—è –±–∞–≥–∞—Ç–æ —Ç—Ä–∞—Ñ—ñ–∫—É –Ω–∞ –º–æ–±—ñ–ª—å–Ω–æ–º—É —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—ñ
- WebSocket –∑'—î–¥–Ω–∞–Ω–Ω—è –æ–±—Ä–∏–≤–∞—î—Ç—å—Å—è –ø—Ä–∏ —Å–ª–∞–±–∫–æ–º—É —Å–∏–≥–Ω–∞–ª—ñ

‚úÖ **–°—Ç–∞–ª–æ:**
- –°–ø–æ—á–∞—Ç–∫—É –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –¢–ï–ö–°–¢ (–º–∏—Ç—Ç—î–≤–æ)
- –§–æ—Ç–æ/–≤—ñ–¥–µ–æ –ø–æ–∫–∞–∑—É—é—Ç—å—Å—è —è–∫ –ø—Ä–µ–≤—å—é (–º–∞–ª—ñ —Ä–æ–∑–º—ñ—Ä–∏)
- –ü–æ–≤–Ω–µ –º–µ–¥—ñ–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∫–ª—ñ–∫–Ω–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è –º—ñ–∂ Socket.IO —Ç–∞ HTTP –ø—Ä–∏ –ø–æ–≥–∞–Ω–æ–º—É –∑'—î–¥–Ω–∞–Ω–Ω—ñ

---

## üéØ –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î?

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  1. NetworkQualityMonitor                                    ‚îÇ
‚îÇ     ‚Üì –ü–µ—Ä–µ–≤—ñ—Ä—è—î —è–∫—ñ—Å—Ç—å –∑'—î–¥–Ω–∞–Ω–Ω—è –∫–æ–∂–Ω—ñ 10 —Å–µ–∫—É–Ω–¥            ‚îÇ
‚îÇ     ‚Üì –í–∏–º—ñ—Ä—é—î –ª–∞—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å (ping)                             ‚îÇ
‚îÇ     ‚Üì –í–∏–∑–Ω–∞—á–∞—î —Ç–∏–ø –º–µ—Ä–µ–∂—ñ (WiFi/Mobile)                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  2. AdaptiveTransportManager                                 ‚îÇ
‚îÇ     ‚Üì –Ø–∫—ñ—Å—Ç—å –í–Ü–î–ú–Ü–ù–ù–ê/–î–û–ë–†–ê ‚Üí Socket.IO                      ‚îÇ
‚îÇ     ‚Üì –Ø–∫—ñ—Å—Ç—å –ü–û–ì–ê–ù–ê ‚Üí HTTP Polling                           ‚îÇ
‚îÇ     ‚Üì –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è                                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  3. Progressive Loading                                      ‚îÇ
‚îÇ     –í—ñ–¥–º—ñ–Ω–Ω–µ –∑'—î–¥–Ω–∞–Ω–Ω—è: –¢–µ–∫—Å—Ç + –§–æ—Ç–æ + –í—ñ–¥–µ–æ (–ø–æ–≤–Ω—ñ—Å—Ç—é)    ‚îÇ
‚îÇ     –î–æ–±—Ä–µ –∑'—î–¥–Ω–∞–Ω–Ω—è: –¢–µ–∫—Å—Ç + –ü—Ä–µ–≤—å—é —Ñ–æ—Ç–æ/–≤—ñ–¥–µ–æ             ‚îÇ
‚îÇ     –ü–æ–≥–∞–Ω–µ –∑'—î–¥–Ω–∞–Ω–Ω—è: –¢—ñ–ª—å–∫–∏ –¢–ï–ö–°–¢                         ‚îÇ
‚îÇ     –û—Ñ–ª–∞–π–Ω: –ö–µ—à–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ –∑ –ª–æ–∫–∞–ª—å–Ω–æ—ó –ë–î                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  4. MediaLoadingManager                                      ‚îÇ
‚îÇ     ‚Üì Lazy Loading: –º–µ–¥—ñ–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ —Å–∫—Ä–æ–ª—ñ  ‚îÇ
‚îÇ     ‚Üì Thumbnail First: —Å–ø–æ—á–∞—Ç–∫—É –ø—Ä–µ–≤—å—é, –ø–æ—Ç—ñ–º –ø–æ–≤–Ω–µ         ‚îÇ
‚îÇ     ‚Üì On-Demand: –ø–æ–≤–Ω–µ –º–µ–¥—ñ–∞ —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –∫–ª—ñ–∫—É               ‚îÇ
‚îÇ     ‚Üì Caching: –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ –ª–æ–∫–∞–ª—å–Ω–∏–π –∫–µ—à                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìä –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

### –°—Ü–µ–Ω–∞—Ä—ñ–π: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–∫—Ä–∏–≤–∞—î —á–∞—Ç –∑ 30 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º–∏ (10 —Ñ–æ—Ç–æ, 5 –≤—ñ–¥–µ–æ, 15 —Ç–µ–∫—Å—Ç)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ë—É–ª–æ (Socket.IO + Full) | –°—Ç–∞–ª–æ (Adaptive + Progressive) | –ï–∫–æ–Ω–æ–º—ñ—è |
|----------|-------------------------|--------------------------------|----------|
| **–ß–∞—Å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è (2G)** | 45 —Å–µ–∫—É–Ω–¥ ‚è±Ô∏è | 3 —Å–µ–∫—É–Ω–¥–∏ ‚è±Ô∏è | **93%** |
| **–¢—Ä–∞—Ñ—ñ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ** | 15 MB üìä | 150 KB üìä | **99%** |
| **–ü–æ–∫–∞–∑–∞–Ω–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å** | 0 (–∑–∞–≤–∏—Å–ª–æ) | 30 (–≤—Å—ñ) | ‚úÖ |

### –†–µ–∂–∏–º–∏ —Ä–æ–±–æ—Ç–∏:

#### 1Ô∏è‚É£ –í—ñ–¥–º—ñ–Ω–Ω–µ –∑'—î–¥–Ω–∞–Ω–Ω—è (WiFi, <200ms)
```
Mode: Socket.IO + Full Media
‚îú‚îÄ –¢–µ–∫—Å—Ç: –ú–∏—Ç—Ç—î–≤–æ
‚îú‚îÄ –ü—Ä–µ–≤—å—é: –ó–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
‚îî‚îÄ –ü–æ–≤–Ω–µ –º–µ–¥—ñ–∞: –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
```

#### 2Ô∏è‚É£ –î–æ–±—Ä–µ –∑'—î–¥–Ω–∞–Ω–Ω—è (4G, 200-500ms)
```
Mode: Socket.IO + Thumbnails
‚îú‚îÄ –¢–µ–∫—Å—Ç: –ú–∏—Ç—Ç—î–≤–æ
‚îú‚îÄ –ü—Ä–µ–≤—å—é: –ó–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è (200x200px, ~20KB)
‚îî‚îÄ –ü–æ–≤–Ω–µ –º–µ–¥—ñ–∞: –¢—ñ–ª—å–∫–∏ –ø—Ä–∏ –∫–ª—ñ–∫—É
```

#### 3Ô∏è‚É£ –ü–æ–≥–∞–Ω–µ –∑'—î–¥–Ω–∞–Ω–Ω—è (3G/2G, >500ms)
```
Mode: HTTP Polling + Text Only
‚îú‚îÄ –¢–µ–∫—Å—Ç: –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è (~3 —Å–µ–∫)
‚îú‚îÄ –ü—Ä–µ–≤—å—é: Placeholder (—Å—ñ—Ä–∏–π –∫–≤–∞–¥—Ä–∞—Ç)
‚îî‚îÄ –ü–æ–≤–Ω–µ –º–µ–¥—ñ–∞: –¢—ñ–ª—å–∫–∏ –ø—Ä–∏ –∫–ª—ñ–∫—É
```

#### 4Ô∏è‚É£ –û—Ñ–ª–∞–π–Ω
```
Mode: Offline Cache
‚îú‚îÄ –¢–µ–∫—Å—Ç: –ó –ª–æ–∫–∞–ª—å–Ω–æ—ó –ë–î
‚îú‚îÄ –ú–µ–¥—ñ–∞: –¢—ñ–ª—å–∫–∏ –∫–µ—à–æ–≤–∞–Ω—ñ
‚îî‚îÄ –í—ñ–¥–ø—Ä–∞–≤–∫–∞: –í —á–µ—Ä–≥—É (sync –∫–æ–ª–∏ –∑'—è–≤–∏—Ç—å—Å—è —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç)
```

---

## üõ†Ô∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –ö—Ä–æ–∫ 1: –°–µ—Ä–≤–µ—Ä–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ (PHP)

–î–∏–≤—ñ—Ç—å—Å—è —Ñ–∞–π–ª `SERVER_PHP_CODE.md` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π.

**–ö–æ—Ä–æ—Ç–∫–æ:**
```bash
# 1. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp SERVER_PHP_CODE.md root@worldmates.club:/tmp/

# 2. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ FFmpeg (–¥–ª—è –ø—Ä–µ–≤—å—é –≤—ñ–¥–µ–æ)
ssh root@worldmates.club
apt-get install ffmpeg -y

# 3. –°—Ç–≤–æ—Ä–∏—Ç–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó
mkdir -p /var/www/worldmates.club/api/v2/cache/thumbnails
chmod 755 /var/www/worldmates.club/api/v2/cache/thumbnails

# 4. –î–æ–¥–∞—Ç–∏ —Ñ–∞–π–ª–∏ –∑ SERVER_PHP_CODE.md
```

### –ö—Ä–æ–∫ 2: –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∞ —á–∞—Å—Ç–∏–Ω–∞ (Android)

–í—Å—ñ —Ñ–∞–π–ª–∏ –≤–∂–µ —Å—Ç–≤–æ—Ä–µ–Ω—ñ –≤ –ø—Ä–æ–µ–∫—Ç—ñ:
```
‚úÖ NetworkQualityMonitor.kt
‚úÖ AdaptiveTransportManager.kt
‚úÖ MediaLoadingManager.kt
‚úÖ CachedMessage.kt (—Ä–æ–∑—à–∏—Ä–µ–Ω–æ)
‚úÖ MessageDao.kt (–æ–Ω–æ–≤–ª–µ–Ω–æ)
‚úÖ WorldMatesApi.kt (–¥–æ–¥–∞–Ω–æ –º–µ—Ç–æ–¥–∏)
```

**–©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏:**

1. **–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏ Gradle:**
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Android Studio
   - File ‚Üí Sync Project with Gradle Files

2. **–û–Ω–æ–≤–∏—Ç–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö:**
   ```kotlin
   // –í AppDatabase.kt –∑–º—ñ–Ω—ñ—Ç—å version
   @Database(
       entities = [CachedMessage::class, ...],
       version = 2, // –ë—É–ª–æ 1, —Å—Ç–∞–ª–æ 2
       exportSchema = false
   )
   ```

3. **–î–æ–¥–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—é:**
   ```kotlin
   // –í AppDatabase.kt
   val MIGRATION_1_2 = object : Migration(1, 2) {
       override fun migrate(database: SupportSQLiteDatabase) {
           database.execSQL(
               "ALTER TABLE cached_messages ADD COLUMN thumbnailPath TEXT"
           )
           database.execSQL(
               "ALTER TABLE cached_messages ADD COLUMN mediaLoadingState TEXT DEFAULT 'idle'"
           )
       }
   }

   // –í getInstance()
   .addMigrations(MIGRATION_1_2)
   ```

---

## üíª –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –í MessagesViewModel.kt

```kotlin
class MessagesViewModel(application: Application) : AndroidViewModel(application) {

    private val adaptiveTransport: AdaptiveTransportManager by lazy {
        AdaptiveTransportManager(
            context = getApplication(),
            listener = object : AdaptiveTransportManager.MessageListener {
                override fun onNewMessage(messageJson: JSONObject) {
                    // –û–±—Ä–æ–±–∫–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
                    handleNewMessage(messageJson)
                }

                override fun onConnectionStateChanged(quality: ConnectionQuality) {
                    // –û–Ω–æ–≤–ª–µ–Ω–Ω—è UI —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ —è–∫–æ—Å—Ç—ñ
                    _connectionQuality.value = quality
                }

                override fun onTransportChanged(useSocketIO: Boolean) {
                    Log.i(TAG, "Transport: ${if (useSocketIO) "Socket.IO" else "HTTP"}")
                }

                override fun onError(error: String) {
                    _errorState.value = error
                }
            }
        )
    }

    private val mediaLoader: MediaLoadingManager by lazy {
        MediaLoadingManager(getApplication())
    }

    // StateFlow –¥–ª—è UI
    private val _connectionQuality = MutableStateFlow(ConnectionQuality.OFFLINE)
    val connectionQuality: StateFlow<ConnectionQuality> = _connectionQuality

    // –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
    fun sendMessage(recipientId: Long, text: String) {
        adaptiveTransport.sendMessage(recipientId, text)
    }

    // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–µ–≤—å—é
    fun loadThumbnail(messageId: Long, thumbnailUrl: String): StateFlow<MediaLoadProgress> {
        return mediaLoader.loadThumbnail(messageId, thumbnailUrl, priority = 5)
    }

    // –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø–æ–≤–Ω–æ–≥–æ –º–µ–¥—ñ–∞ (–ø—Ä–∏ –∫–ª—ñ–∫—É)
    fun loadFullMedia(messageId: Long, mediaUrl: String): StateFlow<MediaLoadProgress> {
        return mediaLoader.loadFullMedia(messageId, mediaUrl, priority = 10)
    }

    // –ß–∏ –º–æ–∂–Ω–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –º–µ–¥—ñ–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ?
    fun shouldAutoLoadMedia(): Boolean {
        return adaptiveTransport.canLoadMedia()
    }

    override fun onCleared() {
        super.onCleared()
        adaptiveTransport.cleanup()
        mediaLoader.cleanup()
    }
}
```

### –í MessagesScreen.kt (Compose UI)

```kotlin
@Composable
fun MessagesScreen(viewModel: MessagesViewModel) {
    val connectionQuality by viewModel.connectionQuality.collectAsState()
    val messages by viewModel.messages.collectAsState()

    Column(modifier = Modifier.fillMaxSize()) {
        // –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä —è–∫–æ—Å—Ç—ñ –∑'—î–¥–Ω–∞–Ω–Ω—è
        ConnectionQualityBanner(quality = connectionQuality)

        // –°–ø–∏—Å–æ–∫ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
        LazyColumn {
            items(messages) { message ->
                MessageItem(
                    message = message,
                    onMediaClick = {
                        // –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ø–æ–≤–Ω–µ –º–µ–¥—ñ–∞ –ø—Ä–∏ –∫–ª—ñ–∫—É
                        viewModel.loadFullMedia(message.id, message.mediaUrl!!)
                    }
                )
            }
        }
    }
}

@Composable
fun ConnectionQualityBanner(quality: ConnectionQuality) {
    when (quality) {
        ConnectionQuality.EXCELLENT -> {
            // –ù–µ –ø–æ–∫–∞–∑—É—î–º–æ –Ω—ñ—á–æ–≥–æ (–≤—Å–µ –¥–æ–±—Ä–µ)
        }
        ConnectionQuality.GOOD -> {
            Banner(
                text = "üü° –ù–æ—Ä–º–∞–ª—å–Ω–µ –∑'—î–¥–Ω–∞–Ω–Ω—è. –ú–µ–¥—ñ–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è —è–∫ –ø—Ä–µ–≤—å—é.",
                color = Color.Yellow
            )
        }
        ConnectionQuality.POOR -> {
            Banner(
                text = "üü† –ü–æ–≥–∞–Ω–µ –∑'—î–¥–Ω–∞–Ω–Ω—è. –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ —Ç–µ–∫—Å—Ç.",
                color = Color.Orange
            )
        }
        ConnectionQuality.OFFLINE -> {
            Banner(
                text = "üî¥ –ù–µ–º–∞—î –∑'—î–¥–Ω–∞–Ω–Ω—è. –ü–æ–∫–∞–∑—É—é—Ç—å—Å—è –∫–µ—à–æ–≤–∞–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.",
                color = Color.Red
            )
        }
    }
}

@Composable
fun MessageItem(message: CachedMessage, onMediaClick: () -> Unit) {
    Column {
        // –¢–µ–∫—Å—Ç –∑–∞–≤–∂–¥–∏ –ø–æ–∫–∞–∑—É—î–º–æ
        Text(text = message.decryptedText ?: "")

        // –ú–µ–¥—ñ–∞ –∑ –ø—Ä–æ–≥—Ä–µ—Å–∏–≤–Ω–∏–º –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º
        if (message.type == "image" || message.type == "video") {
            MediaItem(
                message = message,
                onClick = onMediaClick
            )
        }
    }
}

@Composable
fun MediaItem(message: CachedMessage, onClick: () -> Unit) {
    val viewModel: MessagesViewModel = viewModel()

    when (message.mediaLoadingState) {
        "idle" -> {
            // –©–µ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è - –ø–æ–∫–∞–∑—É—î–º–æ placeholder
            Box(
                modifier = Modifier
                    .size(200.dp)
                    .background(Color.Gray)
                    .clickable { onClick() },
                contentAlignment = Alignment.Center
            ) {
                Icon(Icons.Default.PlayArrow, "–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏")
            }
        }
        "loading_thumb" -> {
            // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –ø—Ä–µ–≤—å—é
            CircularProgressIndicator()
        }
        "thumb_loaded" -> {
            // –ü–æ–∫–∞–∑—É—î–º–æ –ø—Ä–µ–≤—å—é
            AsyncImage(
                model = message.thumbnailPath,
                contentDescription = "Preview",
                modifier = Modifier
                    .size(200.dp)
                    .clickable { onClick() } // –ö–ª—ñ–∫ = –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ø–æ–≤–Ω–µ
            )
            Text("–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –¥–ª—è –ø–æ–≤–Ω–æ–≥–æ –ø–µ—Ä–µ–≥–ª—è–¥—É", fontSize = 10.sp)
        }
        "loading_full" -> {
            // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –ø–æ–≤–Ω–µ –º–µ–¥—ñ–∞
            Box {
                AsyncImage(
                    model = message.thumbnailPath,
                    contentDescription = null,
                    modifier = Modifier.size(200.dp)
                )
                CircularProgressIndicator(modifier = Modifier.align(Alignment.Center))
            }
        }
        "full_loaded" -> {
            // –ü–æ–∫–∞–∑—É—î–º–æ –ø–æ–≤–Ω–µ –º–µ–¥—ñ–∞
            if (message.type == "image") {
                AsyncImage(
                    model = message.localMediaPath,
                    contentDescription = null,
                    modifier = Modifier.fillMaxWidth()
                )
            } else if (message.type == "video") {
                VideoPlayer(videoPath = message.localMediaPath!!)
            }
        }
    }
}
```

---

## üì± UI/UX –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### 1. –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏ —è–∫–æ—Å—Ç—ñ –∑'—î–¥–Ω–∞–Ω–Ω—è

```
üü¢ –í—ñ–¥–º—ñ–Ω–Ω–æ    - –í—Å–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
üü° –î–æ–±—Ä–µ       - –ü—Ä–µ–≤—å—é –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è, –ø–æ–≤–Ω–µ –º–µ–¥—ñ–∞ –ø–æ –∫–ª—ñ–∫—É
üü† –ü–æ–≥–∞–Ω–æ      - –¢—ñ–ª—å–∫–∏ —Ç–µ–∫—Å—Ç, –º–µ–¥—ñ–∞ –ø–æ –∫–ª—ñ–∫—É
üî¥ –û—Ñ–ª–∞–π–Ω      - –ö–µ—à–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ
```

### 2. –ë–∞–Ω–µ—Ä–∏-–ø—ñ–¥–∫–∞–∑–∫–∏

- "–ü–æ–≥–∞–Ω–µ –∑'—î–¥–Ω–∞–Ω–Ω—è. –ú–µ–¥—ñ–∞ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ"
- "–ú–æ–±—ñ–ª—å–Ω–∏–π —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç. –ó–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—Ä–µ–≤—å—é"
- "WiFi –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ. –ú–µ–¥—ñ–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –ø–æ–≤–Ω—ñ—Å—Ç—é"

### 3. –ö–Ω–æ–ø–∫–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è

- "–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—Å—ñ –º–µ–¥—ñ–∞" (–ø—Ä–∏ –ø–æ–ª—ñ–ø—à–µ–Ω–Ω—ñ –∑'—î–¥–Ω–∞–Ω–Ω—è)
- "–û—á–∏—Å—Ç–∏—Ç–∏ –∫–µ—à –º–µ–¥—ñ–∞" (–≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö)
- "–ó–∞–≤–∂–¥–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –ø–æ–≤–Ω–µ –º–µ–¥—ñ–∞" (–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è)

---

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (Settings)

–î–æ–¥–∞–π—Ç–µ –≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–µ—Å–µ–Ω–¥–∂–µ—Ä–∞:

```kotlin
// SettingsScreen.kt
@Composable
fun MediaSettingsSection() {
    Section(title = "–ú–µ–¥—ñ–∞ —Ç–∞ —Ç—Ä–∞—Ñ—ñ–∫") {
        // –ê–≤—Ç–æ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–µ–¥—ñ–∞
        SwitchSetting(
            title = "–ê–≤—Ç–æ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–µ–¥—ñ–∞",
            subtitle = "–ó–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —Ñ–æ—Ç–æ/–≤—ñ–¥–µ–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ",
            checked = settings.autoLoadMedia,
            onCheckedChange = { settings.autoLoadMedia = it }
        )

        // –ó–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –ø–æ WiFi
        SwitchSetting(
            title = "–¢—ñ–ª—å–∫–∏ –ø–æ WiFi",
            subtitle = "–ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –º–æ–±—ñ–ª—å–Ω–∏–π —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–ª—è –º–µ–¥—ñ–∞",
            checked = settings.wifiOnly,
            onCheckedChange = { settings.wifiOnly = it }
        )

        // –Ø–∫—ñ—Å—Ç—å –ø—Ä–µ–≤—å—é
        DropdownSetting(
            title = "–Ø–∫—ñ—Å—Ç—å –ø—Ä–µ–≤—å—é",
            options = listOf("–ù–∏–∑—å–∫–∞ (50KB)", "–°–µ—Ä–µ–¥–Ω—è (100KB)", "–í–∏—Å–æ–∫–∞ (200KB)"),
            selected = settings.thumbnailQuality
        )

        // –†–æ–∑–º—ñ—Ä –∫–µ—à—É
        TextSetting(
            title = "–ö–µ—à –º–µ–¥—ñ–∞",
            subtitle = "${mediaLoader.getCacheSize() / 1024 / 1024} MB –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ",
            onClick = { /* –ü–æ–∫–∞–∑–∞—Ç–∏ –¥—ñ–∞–ª–æ–≥ –æ—á–∏—Å—Ç–∫–∏ */ }
        )
    }
}
```

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ï–º—É–ª—è—Ü—ñ—è –ø–æ–≥–∞–Ω–æ–≥–æ –∑'—î–¥–Ω–∞–Ω–Ω—è

#### Android Studio:
```
Settings ‚Üí Emulator ‚Üí Network
- Speed: GSM/HSCSD (14.4 Kbps)
- Latency: GPRS (500ms)
```

#### Chrome DevTools (–¥–ª—è –≤–µ–±-–≤–µ—Ä—Å—ñ—ó):
```
F12 ‚Üí Network ‚Üí Throttling ‚Üí Slow 3G
```

#### –†–µ–∞–ª—å–Ω–∏–π –ø—Ä–∏—Å—Ç—Ä—ñ–π:
```
–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ‚Üí –ú–µ—Ä–µ–∂–∞ ‚Üí –û–±–º–µ–∂–∏—Ç–∏ —à–≤–∏–¥–∫—ñ—Å—Ç—å (–¥–µ—è–∫—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó)
```

### –¢–µ—Å—Ç-–∫–µ–π—Å–∏:

‚úÖ **TC1: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è —è–∫–æ—Å—Ç—ñ**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –Ω–∞ WiFi ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ Socket.IO
2. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏ –Ω–∞ 3G ‚Üí –º–∞—î –ø–µ—Ä–µ–º–∫–Ω—É—Ç–∏—Å—å –Ω–∞ HTTP
3. –í–∏–º–∫–Ω—É—Ç–∏ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç ‚Üí –º–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏ –∫–µ—à

‚úÖ **TC2: –ü—Ä–æ–≥—Ä–µ—Å–∏–≤–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è**
1. –í—ñ–¥–∫—Ä–∏—Ç–∏ —á–∞—Ç –∑ —Ñ–æ—Ç–æ –Ω–∞ 2G
2. –ú–∞—î –ø–æ–∫–∞–∑–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ —Ç–µ–∫—Å—Ç (placeholder –¥–ª—è —Ñ–æ—Ç–æ)
3. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ –Ω–∞ —Ñ–æ—Ç–æ ‚Üí –º–∞—î –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏—Å—å –ø—Ä–µ–≤—å—é
4. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ –∑–Ω–æ–≤—É ‚Üí –º–∞—î –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏—Å—å –ø–æ–≤–Ω–µ

‚úÖ **TC3: –ï–∫–æ–Ω–æ–º—ñ—è —Ç—Ä–∞—Ñ—ñ–∫—É**
1. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –ª—ñ–º—ñ—Ç–æ–≤–∞–Ω–∏–π —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç
2. –í—ñ–¥–∫—Ä–∏—Ç–∏ 10 –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –∑ —Ñ–æ—Ç–æ
3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤–∏—Ç—Ä–∞—á–µ–Ω–∏–π —Ç—Ä–∞—Ñ—ñ–∫ (–º–∞—î –±—É—Ç–∏ ~100-200KB)

---

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è

### –£–≤—ñ–º–∫–Ω—É—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è:

```kotlin
// –í NetworkQualityMonitor.kt
companion object {
    private const val DEBUG_MODE = true // –£–≤—ñ–º–∫–Ω—É—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—ñ –ª–æ–≥–∏
}
```

### –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏:

```bash
# Android Studio Logcat
adb logcat | grep -E "NetworkQuality|AdaptiveTransport|MediaLoading"

# –§—ñ–ª—å—Ç—Ä–∏:
# - NetworkQualityMonitor: —è–∫—ñ—Å—Ç—å –∑'—î–¥–Ω–∞–Ω–Ω—è
# - AdaptiveTransportManager: –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É
# - MediaLoadingManager: –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–µ–¥—ñ–∞
```

### –ü—Ä–∏–∫–ª–∞–¥ –ª–æ–≥—ñ–≤:

```
NetworkQualityMonitor: üîç Starting network quality monitoring
NetworkQualityMonitor: ‚è±Ô∏è Latency: 150ms
NetworkQualityMonitor: üîÑ Connection quality changed: OFFLINE ‚Üí EXCELLENT
AdaptiveTransportManager: üîÑ Switching transport: HTTP Polling ‚Üí Socket.IO
AdaptiveTransportManager: ‚úÖ Socket.IO connected
MediaLoadingManager: üì• Downloading thumbnail for message 12345
MediaLoadingManager: ‚úÖ Thumbnail loaded for message 12345
```

---

## üö® Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ü—Ä–µ–≤—å—é –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** –°–µ—Ä–≤–µ—Ä –Ω–µ –≥–µ–Ω–µ—Ä—É—î –ø—Ä–µ–≤—å—é

**–†—ñ—à–µ–Ω–Ω—è:**
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ FFmpeg –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
ssh root@worldmates.club
ffmpeg -version

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–∞–≤–∞ –Ω–∞ –ø–∞–ø–∫—É –∫–µ—à—É
ls -la /var/www/worldmates.club/api/v2/cache/thumbnails
chmod 755 /var/www/worldmates.club/api/v2/cache/thumbnails
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—î—Ç—å—Å—è –Ω–∞ HTTP Polling

**–ü—Ä–∏—á–∏–Ω–∞:** NetworkQualityMonitor –Ω–µ –≤–∏–∑–Ω–∞—á–∞—î –ø–æ–≥–∞–Ω–µ –∑'—î–¥–Ω–∞–Ω–Ω—è

**–†—ñ—à–µ–Ω–Ω—è:**
```kotlin
// –í NetworkQualityMonitor.kt –∑–º—ñ–Ω—ñ—Ç—å –ø–æ—Ä–æ–≥–∏
private const val POOR_THRESHOLD_MS = 1000L // –ë—É–ª–æ 2000L
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ú–µ–¥—ñ–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –Ω–∞–≤—ñ—Ç—å –Ω–∞ –ø–æ–≥–∞–Ω–æ–º—É –∑'—î–¥–Ω–∞–Ω–Ω—ñ

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

**–†—ñ—à–µ–Ω–Ω—è:**
```kotlin
// –ü–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–¥ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º
if (settings.autoLoadMedia && adaptiveTransport.canLoadMedia()) {
    loadMedia()
}
```

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø—ñ—à–Ω–æ—Å—Ç—ñ

–ü—ñ—Å–ª—è –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –≤—ñ–¥—Å–ª—ñ–¥–∫–æ–≤—É–π—Ç–µ:

1. **–ß–∞—Å –ø–µ—Ä—à–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** (Time to First Message)
   - –ë—É–ª–æ: 10-45 —Å–µ–∫—É–Ω–¥ (3G)
   - –°—Ç–∞–ª–æ: 2-5 —Å–µ–∫—É–Ω–¥

2. **–í–∏—Ç—Ä–∞—Ç–∞ —Ç—Ä–∞—Ñ—ñ–∫—É –Ω–∞ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è —á–∞—Ç—É**
   - –ë—É–ª–æ: 5-15 MB
   - –°—Ç–∞–ª–æ: 50-200 KB

3. **–í—ñ–¥—Å–æ—Ç–æ–∫ —É—Å–ø—ñ—à–Ω–∏—Ö –∑'—î–¥–Ω–∞–Ω—å**
   - –ë—É–ª–æ: 60-70% (–±–∞–≥–∞—Ç–æ timeout)
   - –°—Ç–∞–ª–æ: 95-98%

4. **–ó–∞–¥–æ–≤–æ–ª–µ–Ω—ñ—Å—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤**
   - –î–æ–¥–∞–π—Ç–µ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è –ø—ñ—Å–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

---

## üéì –ù–∞–≤—á–∞–ª—å–Ω—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏

### –î–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤:

1. **–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞:**
   - –î—ñ–∞–≥—Ä–∞–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤
   - –ü–æ—Ç—ñ–∫ –¥–∞–Ω–∏—Ö
   - –ñ–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

2. **–†–æ–∑—à–∏—Ä–µ–Ω–Ω—è:**
   - –Ø–∫ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —Ç–∏–ø –º–µ–¥—ñ–∞
   - –Ø–∫ –∑–º—ñ–Ω–∏—Ç–∏ –ø–æ—Ä–æ–≥–∏ —è–∫–æ—Å—Ç—ñ
   - –Ø–∫ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –∑ —ñ–Ω—à–∏–º–∏ —á–∞—Å—Ç–∏–Ω–∞–º–∏

3. **–î–µ–±–∞–≥:**
   - –¢–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ —Ä—ñ—à–µ–Ω–Ω—è
   - –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
   - –õ–æ–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –î–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:

–°—Ç–≤–æ—Ä—ñ—Ç—å FAQ –≤ –¥–æ–¥–∞—Ç–∫—É:

**Q: –ß–æ–º—É —Ñ–æ—Ç–æ –ø–æ–∫–∞–∑—É—é—Ç—å—Å—è —Ä–æ–∑–º–∏—Ç–∏–º–∏?**
A: –¶–µ –ø—Ä–µ–≤—å—é –¥–ª—è –µ–∫–æ–Ω–æ–º—ñ—ó —Ç—Ä–∞—Ñ—ñ–∫—É. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å —â–æ–± –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ø–æ–≤–Ω–µ —Ñ–æ—Ç–æ.

**Q: –ß–æ–º—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–∏—Ö–æ–¥—è—Ç—å –ø–æ–≤—ñ–ª—å–Ω–æ?**
A: –ü–æ–≥–∞–Ω–µ –∑'—î–¥–Ω–∞–Ω–Ω—è. –ú–µ—Å–µ–Ω–¥–∂–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏–≤—Å—è –Ω–∞ –µ–∫–æ–Ω–æ–º–Ω–∏–π —Ä–µ–∂–∏–º.

**Q: –Ø–∫ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—Å—ñ –º–µ–¥—ñ–∞ –æ–¥—Ä–∞–∑—É?**
A: –ü—ñ–¥–∫–ª—é—á—ñ—Ç—å—Å—è –¥–æ WiFi - –º–µ–¥—ñ–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ.

---

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –ø–∏—Ç–∞–Ω–Ω—è:

- üìß Email: support@worldmates.club
- üí¨ Telegram: @worldmates_support
- üìñ Wiki: https://github.com/worldmates/docs

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è

- [ ] –°–µ—Ä–≤–µ—Ä–Ω–∏–π –∫–æ–¥ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Ç–∞ –ø—Ä–æ—Ç–µ—Å—Ç–æ–≤–∞–Ω–æ
- [ ] –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥ —ñ–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö –æ–Ω–æ–≤–ª–µ–Ω–∞ (–º—ñ–≥—Ä–∞—Ü—ñ—è)
- [ ] UI —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∏ –¥–æ–¥–∞–Ω–æ
- [ ] –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–æ–¥–∞–Ω–æ
- [ ] –¢–µ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω—ñ
- [ ] –ë–µ—Ç–∞-—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –æ–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ
- [ ] –†–æ–∑–≥–æ—Ä–Ω—É—Ç–æ –≤ prod

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à –º–µ—Å–µ–Ω–¥–∂–µ—Ä —Ç–µ–ø–µ—Ä –ø—Ä–∞—Ü—é—î –≤—ñ–¥–º—ñ–Ω–Ω–æ –Ω–∞–≤—ñ—Ç—å –Ω–∞ –ø–æ–≥–∞–Ω–æ–º—É —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—ñ! üöÄ

**–ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏:**
1. –ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø–∞—Ö –∑'—î–¥–Ω–∞–Ω–Ω—è
2. –ó–±–µ—Ä—ñ—Ç—å —Ñ—ñ–¥–±–µ–∫ –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
3. –û–ø—Ç–∏–º—ñ–∑—É–π—Ç–µ –ø–æ—Ä–æ–≥–∏ —è–∫–æ—Å—Ç—ñ –ø—ñ–¥ –≤–∞—à—É –∞—É–¥–∏—Ç–æ—Ä—ñ—é
4. –î–æ–¥–∞–π—Ç–µ –∞–Ω–∞–ª—ñ—Ç–∏–∫—É –¥–ª—è –≤—ñ–¥—Å–ª—ñ–¥–∫–æ–≤—É–≤–∞–Ω–Ω—è –ø–æ–∫—Ä–∞—â–µ–Ω—å
