# üì¶ Cloud Backup v2 - –ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

**–î–∞—Ç–∞:** 2026-01-06
**–í–µ—Ä—Å–∏—è:** 2.0
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## üéØ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ v2

–í –≤–µ—Ä—Å–∏–∏ 2 –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ Telegram —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º:

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

1. **Settings UI (Telegram-style)**
   - ‚úÖ –ü–æ–ª–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ —Å—Ç–∏–ª–µ Telegram
   - ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (—Å–µ—Ç—å, –∫–µ—à)
   - ‚úÖ –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞ (–º–æ–±–∏–ª—å–Ω—ã–π/Wi-Fi/—Ä–æ—É–º–∏–Ω–≥)
   - ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –≥–∞–ª–µ—Ä–µ—é
   - ‚úÖ –°—Ç—Ä–∏–º–∏–Ω–≥
   - ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–µ—à–µ–º (1GB - –ë–µ–∑–∫–æ–Ω–µ—á–Ω–æ)
   - ‚úÖ –û–±–ª–∞—á–Ω—ã–π –±—ç–∫–∞–ø (–õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä, Google Drive, MEGA, Dropbox)
   - ‚úÖ –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
   - ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏

2. **Backend (PHP + SQL)**
   - ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `Wo_UserCloudBackupSettings` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
   - ‚úÖ Endpoint `get_cloud_backup_settings.php`
   - ‚úÖ Endpoint `update_cloud_backup_settings.php`

3. **Android (Kotlin + Compose)**
   - ‚úÖ CloudBackupSettings - –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö —Å –≤—Å–µ–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
   - ‚úÖ CloudBackupSettingsScreen - –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫
   - ‚úÖ CloudBackupDialogs - –¥–∏–∞–ª–æ–≥–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - ‚úÖ CloudBackupViewModel - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
   - ‚úÖ CloudBackupSettingsRepository - –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
   - ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ SettingsActivity

---

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### Backend (PHP)

#### SQL Migration
**–§–∞–π–ª:** `api-server-files/sql-DB-newver/migration_cloud_backup_settings.sql`

–¢–∞–±–ª–∏—Ü–∞ `Wo_UserCloudBackupSettings` —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞ (–º–æ–±–∏–ª—å–Ω—ã–π/Wi-Fi/—Ä–æ—É–º–∏–Ω–≥)
- –õ–∏–º–∏—Ç—ã —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –≥–∞–ª–µ—Ä–µ—é
- –°—Ç—Ä–∏–º–∏–Ω–≥
- –õ–∏–º–∏—Ç –∫–µ—à–∞
- –ü—Ä–æ–≤–∞–π–¥–µ—Ä –æ–±–ª–∞—á–Ω–æ–≥–æ –±—ç–∫–∞–ø–∞
- –ß–∞—Å—Ç–æ—Ç–∞ –±—ç–∫–∞–ø–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏

#### PHP Endpoints

**`get_cloud_backup_settings.php`**
- –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ JSON

**`update_cloud_backup_settings.php`**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª—é–±—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π
- –û—Ç–º–µ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –±—ç–∫–∞–ø–∞

#### Constants
**–§–∞–π–ª:** `api-server-files/assets/includes/tabels.php`
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ `T_USER_CLOUD_BACKUP_SETTINGS`

---

### Android (Kotlin)

#### Models

**CloudBackupSettings.kt**
```kotlin
data class CloudBackupSettings(
    // –ê–í–¢–û–ó–ê–ì–†–£–ó–ö–ê –ú–ï–î–ò–ê
    val mobilePhotos: Boolean = false,
    val mobileVideos: Boolean = false,
    val mobileFiles: Boolean = false,
    val mobileVideosLimit: Int = 10,  // MB
    val mobileFilesLimit: Int = 10,   // MB

    val wifiPhotos: Boolean = true,
    val wifiVideos: Boolean = true,
    val wifiFiles: Boolean = true,
    val wifiVideosLimit: Int = 100,   // MB
    val wifiFilesLimit: Int = 100,    // MB

    val roamingPhotos: Boolean = false,

    // –°–û–•–†–ê–ù–Ø–¢–¨ –í –ì–ê–õ–ï–†–ï–ï
    val saveToGalleryPrivateChats: Boolean = false,
    val saveToGalleryGroups: Boolean = false,
    val saveToGalleryChannels: Boolean = false,

    // –°–¢–†–ò–ú–ò–ù–ì
    val streamingEnabled: Boolean = true,

    // –£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–≠–®–ï–ú
    val cacheSizeLimit: Long = 3 * 1024 * 1024 * 1024L,  // 3 GB

    // –û–ë–õ–ê–ß–ù–´–ô –ë–≠–ö–ê–ü
    val backupEnabled: Boolean = true,
    val backupProvider: BackupProvider = BackupProvider.LOCAL_SERVER,
    val backupFrequency: BackupFrequency = BackupFrequency.DAILY,
    val lastBackupTime: Long? = null,

    // –ü–†–û–ö–°–ò
    val proxyEnabled: Boolean = false,
    val proxyHost: String? = null,
    val proxyPort: Int? = null
)

enum class BackupProvider {
    LOCAL_SERVER,     // –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
    GOOGLE_DRIVE,     // Google Drive
    MEGA,             // MEGA
    DROPBOX           // Dropbox
}

enum class BackupFrequency(val displayName: String, val hours: Int) {
    NEVER("–ù–∏–∫–æ–≥–¥–∞", 0),
    DAILY("–ï–∂–µ–¥–Ω–µ–≤–Ω–æ", 24),
    WEEKLY("–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ", 168),
    MONTHLY("–ï–∂–µ–º–µ—Å—è—á–Ω–æ", 720)
}
```

#### UI Screens

**CloudBackupSettingsScreen.kt**

–ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ —Å—Ç–∏–ª–µ Telegram:

```kotlin
@Composable
fun CloudBackupSettingsScreen(onBackClick: () -> Unit) {
    val viewModel: CloudBackupViewModel = viewModel()
    val settings by viewModel.settings.collectAsState()
    val syncProgress by viewModel.syncProgress.collectAsState()
    val cacheSize by viewModel.cacheSize.collectAsState()

    // ... UI —Å –≤—Å–µ–º–∏ —Å–µ–∫—Ü–∏—è–º–∏
}
```

**–°–µ–∫—Ü–∏–∏ —ç–∫—Ä–∞–Ω–∞:**
1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ç–∏ –∏ –∫–µ—à–∞
2. **–ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ/Wi-Fi/—Ä–æ—É–º–∏–Ω–≥–∞
3. **–°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ –≥–∞–ª–µ—Ä–µ–µ** - –¥–ª—è –ª–∏—á–Ω—ã—Ö —á–∞—Ç–æ–≤/–≥—Ä—É–ø–ø/–∫–∞–Ω–∞–ª–æ–≤
4. **–°—Ç—Ä–∏–º–∏–Ω–≥** - –≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ
5. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–µ—à–µ–º** - –≤—ã–±–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ –∏ –æ—á–∏—Å—Ç–∫–∞
6. **–û–±–ª–∞—á–Ω—ã–π –±—ç–∫–∞–ø** - –≤—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
7. **–ü—Ä–æ–∫—Å–∏** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞

**CloudBackupDialogs.kt**

–¢—Ä–∏ –¥–∏–∞–ª–æ–≥–∞ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. **MediaDownloadDialog** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–¥–∏–∞
   - –ß–µ–∫–±–æ–∫—Å—ã: –§–æ—Ç–æ, –í–∏–¥–µ–æ, –§–∞–π–ª—ã
   - –°–ª–∞–π–¥–µ—Ä—ã –¥–ª—è –ª–∏–º–∏—Ç–æ–≤ —Ä–∞–∑–º–µ—Ä–∞ (–¥–æ 100 MB)

2. **CacheSizeDialog** - –≤—ã–±–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ –∫–µ—à–∞
   - RadioButtons: 1 GB, 3 GB, 5 GB, 10 GB, 15 GB, 32 GB, –ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ

3. **BackupProviderDialog** - –≤—ã–±–æ—Ä –æ–±–ª–∞—á–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
   - RadioButtons: –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä, Google Drive, MEGA, Dropbox

#### ViewModel

**CloudBackupViewModel.kt**

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π:

```kotlin
class CloudBackupViewModel(application: Application) : AndroidViewModel(application) {

    private val backupRepository = BackupRepository(application)
    private val settingsRepository = CloudBackupSettingsRepository(application)

    // StateFlows –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ UI
    val settings: StateFlow<CloudBackupSettings?>
    val syncProgress: StateFlow<SyncProgress>
    val cacheSize: StateFlow<Long>

    // –ú–µ—Ç–æ–¥—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
    fun updateMobileDataSettings(...)
    fun updateWiFiSettings(...)
    fun updateRoamingPhotos(...)
    fun updateSaveToGallery...(...)
    fun updateStreaming(...)
    fun updateCacheSize(...)
    fun updateBackupProvider(...)

    // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
    suspend fun startSync()
    suspend fun clearCache()
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ ViewModel:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏
- ‚úÖ –ü–æ–¥—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –∫–µ—à–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

#### Repository

**CloudBackupSettingsRepository.kt**

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é –¥–∞–Ω–Ω—ã—Ö:

```kotlin
class CloudBackupSettingsRepository(private val context: Context) {

    val settings: StateFlow<CloudBackupSettings?>

    suspend fun loadSettings(): Result<CloudBackupSettings>

    suspend fun updateSettings(...): Result<String>

    suspend fun markBackupComplete(): Result<String>
}
```

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ë–î

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é:

```bash
mysql -u username -p database_name < api-server-files/sql-DB-newver/migration_cloud_backup_settings.sql
```

### 2. –î–æ—Å—Ç—É–ø –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:
1. –û—Ç–∫—Ä–æ–π—Ç–µ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**
2. –í—ã–±–µ—Ä–∏—Ç–µ **"–°—Ö–æ–≤–∏—â–µ —Ç–∞ –±—ç–∫–∞–ø"**
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### 3. –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –¥–æ—Å—Ç—É–ø

```kotlin
// –ü–æ–ª—É—á–∏—Ç—å ViewModel
val viewModel: CloudBackupViewModel = viewModel()

// –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
viewModel.settings.collect { settings ->
    Log.d("Settings", "Current settings: $settings")
}

// –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É
viewModel.updateBackupProvider(CloudBackupSettings.BackupProvider.GOOGLE_DRIVE)

// –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
lifecycleScope.launch {
    viewModel.startSync()
}

// –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
viewModel.syncProgress.collect { progress ->
    if (progress.isRunning) {
        Log.d("Sync", "${progress.currentItem}/${progress.totalItems}")
    }
}
```

---

## üìä API Endpoints

### GET `/api/v2/endpoints/get_cloud_backup_settings.php`

**Query Parameters:**
- `access_token` - —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**Response:**
```json
{
  "api_status": 200,
  "settings": {
    "mobile_photos": false,
    "wifi_photos": true,
    "cache_size_limit": 3221225472,
    "backup_provider": "local_server",
    ...
  }
}
```

### POST `/api/v2/endpoints/update_cloud_backup_settings.php`

**Query Parameters:**
- `access_token` - —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞

**Form Data (–≤—Å–µ –ø–æ–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã):**
```
mobile_photos=true
wifi_videos=true
cache_size_limit=5368709120
backup_provider=google_drive
...
```

**Response:**
```json
{
  "api_status": 200,
  "message": "Cloud backup settings updated successfully"
}
```

---

## üé® UI Screenshots Reference

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ Telegram:

1. ‚úÖ **Network Usage** - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∏ (–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ/–ø–æ–ª—É—á–µ–Ω–æ)
2. ‚úÖ **Storage Usage** - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
3. ‚úÖ **When Using Mobile Data** - –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ –º–æ–±–∏–ª—å–Ω–æ–π —Å–µ—Ç–∏
4. ‚úÖ **When Connected on Wi-Fi** - –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ Wi-Fi
5. ‚úÖ **When Roaming** - –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –≤ —Ä–æ—É–º–∏–Ω–≥–µ
6. ‚úÖ **Save to Gallery** - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –≥–∞–ª–µ—Ä–µ—é
7. ‚úÖ **Enable Streaming** - –í–∫–ª—é—á–∏—Ç—å —Å—Ç—Ä–∏–º–∏–Ω–≥
8. ‚úÖ **Keep Media** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–µ—à–µ–º
9. ‚úÖ **Clear Cache** - –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞
10. ‚úÖ **Cloud Backup** - –í—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –æ–±–ª–∞—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
11. ‚úÖ **Sync Progress** - –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
12. ‚úÖ **Proxy Settings** - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏

---

## üîÑ –û—Ç–ª–∏—á–∏—è –æ—Ç v1

| –§—É–Ω–∫—Ü–∏—è | v1 | v2 |
|---------|----|----|
| Settings UI | ‚ùå | ‚úÖ –ü–æ–ª–Ω—ã–π Telegram-style UI |
| –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞ | ‚ö†Ô∏è –ë–∞–∑–æ–≤–∞—è | ‚úÖ –ü–æ–ª–Ω–∞—è (–º–æ–±–∏–ª—å–Ω—ã–π/Wi-Fi/—Ä–æ—É–º–∏–Ω–≥) |
| –õ–∏–º–∏—Ç—ã —Ä–∞–∑–º–µ—Ä–∞ | ‚ùå | ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ª–∏–º–∏—Ç—ã |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–µ—à–µ–º | ‚ö†Ô∏è –ë–∞–∑–æ–≤–æ–µ | ‚úÖ –í—ã–±–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ (1GB-‚àû) |
| –û–±–ª–∞—á–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã | ‚ùå | ‚úÖ 4 –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ |
| –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ | ‚ùå | ‚úÖ –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π |
| –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –≥–∞–ª–µ—Ä–µ—é | ‚ùå | ‚úÖ –î–ª—è —á–∞—Ç–æ–≤/–≥—Ä—É–ø–ø/–∫–∞–Ω–∞–ª–æ–≤ |
| –°—Ç—Ä–∏–º–∏–Ω–≥ | ‚ùå | ‚úÖ –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ |
| –ü—Ä–æ–∫—Å–∏ | ‚ùå | ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ |
| –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è | ‚ùå | ‚úÖ –°–µ—Ç—å + –∫–µ—à |
| –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å | ‚ùå | ‚úÖ –°–µ—Ä–≤–µ—Ä + –ª–æ–∫–∞–ª—å–Ω–æ |

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)

### –î–ª—è v3 (–ë—É–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏):

1. **–†–µ–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ–±–ª–∞—á–Ω—ã–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏**
   - Google Drive API
   - MEGA SDK
   - Dropbox SDK

2. **–†–µ–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ç–∏**
   - –ü–æ–¥—Å—á–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö/–ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –¢—Ä–µ–∫–∏–Ω–≥ –ø–æ —Ç–∏–ø–∞–º –º–µ–¥–∏–∞

3. **WorkManager –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø–æ Wi-Fi (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

4. **–ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ**
   - –î–∏–∞–ª–æ–≥ –≤—ã–±–æ—Ä–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –±—ç–∫–∞–ø–∞
   - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –æ–±–ª–∞–∫–∞

5. **–°–∂–∞—Ç–∏–µ –º–µ–¥–∏–∞**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ —Ñ–æ—Ç–æ
   - –¢—Ä–∞–Ω—Å–∫–æ–¥–∏–Ω–≥ –≤–∏–¥–µ–æ

6. **–≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫**
   - Backup –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
   - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–¥–∞ v2

### Backend:
- **SQL –º–∏–≥—Ä–∞—Ü–∏–π:** 1 (migration_cloud_backup_settings.sql)
- **PHP endpoints:** 2 (get/update)
- **–°—Ç—Ä–æ–∫ SQL:** ~60
- **–°—Ç—Ä–æ–∫ PHP:** ~300

### Android:
- **Models:** 1 (CloudBackupSettings.kt - 200 —Å—Ç—Ä–æ–∫)
- **UI Screens:** 1 (CloudBackupSettingsScreen.kt - 400 —Å—Ç—Ä–æ–∫)
- **Dialogs:** 1 (CloudBackupDialogs.kt - 350 —Å—Ç—Ä–æ–∫)
- **ViewModel:** 1 (CloudBackupViewModel.kt - 330 —Å—Ç—Ä–æ–∫)
- **Repository:** 1 (CloudBackupSettingsRepository.kt - 150 —Å—Ç—Ä–æ–∫)
- **API Endpoints:** 2 –º–µ—Ç–æ–¥–∞ –≤ WorldMatesApi.kt

### –û–±—â–µ–µ:
- **–ù–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 8
- **–ò–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:** 3
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~1800

---

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫**
   - [ ] –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞
   - [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ UI

2. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫**
   - [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–¥–∏–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
   - [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∫–µ—à–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
   - [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –±—ç–∫–∞–ø–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
   - [ ] –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä

3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–µ—à–µ–º**
   - [ ] –ü–æ–¥—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –∫–µ—à–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - [ ] –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

4. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**
   - [ ] –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
   - [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–∞—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - [ ] –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –±—ç–∫–∞–ø–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

5. **UI/UX**
   - [ ] –í—Å–µ –¥–∏–∞–ª–æ–≥–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è
   - [ ] –ê–Ω–∏–º–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–ª–∞–≤–Ω–æ
   - [ ] –ù–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üéØ Checklist –¥–ª—è –∑–∞–ø—É—Å–∫–∞

- [x] SQL –º–∏–≥—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- [x] PHP endpoints —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- [x] Android models —Å–æ–∑–¥–∞–Ω—ã
- [x] UI Screens —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- [x] Dialogs —Å–æ–∑–¥–∞–Ω—ã
- [x] ViewModel —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [x] Repository —Å–æ–∑–¥–∞–Ω
- [x] API endpoints –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [x] –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞
- [ ] SQL –º–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –ö–æ–¥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

---

**–°–æ–∑–¥–∞–Ω–æ:** 2026-01-06
**–ê–≤—Ç–æ—Ä:** Claude Code
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 2.0
