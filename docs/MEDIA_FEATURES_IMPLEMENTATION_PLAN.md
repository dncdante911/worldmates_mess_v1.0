# –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ–¥–∏–∞-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ WorldMates Messenger

## üìä –°—Ç–∞—Ç—É—Å: –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ —Ñ–∞–π–ª–æ–≤ (DONE)
- ‚úÖ MAX_IMAGE_SIZE: 15MB ‚Üí 25MB
- ‚úÖ MAX_VIDEO_SIZE: 1GB (—É–∂–µ –±—ã–ª–æ)
- ‚úÖ MAX_AUDIO_SIZE: 100MB (—É–∂–µ –±—ã–ª–æ)
- ‚úÖ MAX_FILE_SIZE: 500MB ‚Üí 250MB

### 2. –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫–∞ —Ñ–æ—Ç–æ (DONE)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–±–æ—Ä–∞ imageUrls
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (image/photo)
- üìç –§–∞–π–ª: `MessagesScreen.kt` (—Å—Ç—Ä–æ–∫–∞ 301-321)

### 3. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ (DONE)
- ‚úÖ –°–æ–∑–¥–∞–Ω `ImageMessageComponent.kt` (87 —Å—Ç—Ä–æ–∫)
- ‚úÖ –°–æ–∑–¥–∞–Ω `VideoMessageComponent.kt` (68 —Å—Ç—Ä–æ–∫)
- ‚úÖ –°–æ–∑–¥–∞–Ω `FileMessageComponent.kt` (143 —Å—Ç—Ä–æ–∫)
- ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –æ—Ç–¥–µ–ª—å–Ω–æ
- üìç –ü—É—Ç—å: `ui/components/media/`

### 4. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –≤–∏–¥–µ–æ–ø–ª–µ–µ—Ä (DONE ‚≠ê)

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –ñ–µ—Å—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
  - –°–≤–∞–π–ø –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ ‚Üí –ø–µ—Ä–µ–º–æ—Ç–∫–∞ –≤–∏–¥–µ–æ
  - –°–≤–∞–π–ø –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑ —Å–ª–µ–≤–∞ ‚Üí —è—Ä–∫–æ—Å—Ç—å —ç–∫—Ä–∞–Ω–∞
  - –°–≤–∞–π–ø –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑ —Å–ø—Ä–∞–≤–∞ ‚Üí –≥—Ä–æ–º–∫–æ—Å—Ç—å –∑–≤—É–∫–∞
  - –î–≤–æ–π–Ω–æ–π —Ç–∞–ø —Å–ª–µ–≤–∞ ‚Üí –ø–µ—Ä–µ–º–æ—Ç–∫–∞ -10 —Å–µ–∫
  - –î–≤–æ–π–Ω–æ–π —Ç–∞–ø —Å–ø—Ä–∞–≤–∞ ‚Üí –ø–µ—Ä–µ–º–æ—Ç–∫–∞ +10 —Å–µ–∫
  - –î–≤–æ–π–Ω–æ–π —Ç–∞–ø –≤ —Ü–µ–Ω—Ç—Ä–µ ‚Üí –ø–∞—É–∑–∞/–ø–ª–µ–π
- ‚úÖ –°–∫–æ—Ä–æ—Å—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è (0.5x, 0.75x, 1x, 1.25x, 1.5x, 2x)
- ‚úÖ Picture-in-Picture (Android 8+)
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –≥—Ä–æ–º–∫–æ—Å—Ç–∏/—è—Ä–∫–æ—Å—Ç–∏/–ø–µ—Ä–µ–º–æ—Ç–∫–∏
- ‚úÖ –ê–≤—Ç–æ—Å–∫—Ä—ã—Ç–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–æ–≤ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
- ‚úÖ –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- ‚úÖ –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Å –ø–µ—Ä–µ–º–æ—Ç–∫–æ–π
- üìç –§–∞–π–ª: `ui/video/AdvancedVideoPlayer.kt` (780 —Å—Ç—Ä–æ–∫)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```kotlin
AdvancedVideoPlayer(
    videoUrl = "https://...",
    onDismiss = { },
    enablePiP = true,
    autoPlay = true
)
```

---

## üîß –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### 5. –î–∞–ª—å–Ω–µ–π—à–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (PRIORITY: HIGH)

**–ü—Ä–æ–±–ª–µ–º–∞:** –§–∞–π–ª—ã –ø—Ä–µ–≤—ã—à–∞—é—Ç —Ä–∞–∑—É–º–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã:
- MessagesScreen.kt: 3712 —Å—Ç—Ä–æ–∫ ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û
- ModernChannelPostComponents.kt: 2545 —Å—Ç—Ä–æ–∫ ‚ö†Ô∏è
- MessagesViewModel.kt: 1781 —Å—Ç—Ä–æ–∫
- ChatsActivity.kt: 1547 —Å—Ç—Ä–æ–∫

**–ü–ª–∞–Ω:**
1. –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –º–µ–¥–∏–∞:
   - `components/media/ImageMessageComponent.kt`
   - `components/media/VideoMessageComponent.kt`
   - `components/media/AudioMessageComponent.kt`
   - `components/media/FileMessageComponent.kt`
   - `components/media/StickerMessageComponent.kt`

2. –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –∏–∑ MessagesScreen:
   - `components/message/MessageBubble.kt` (—Ç–µ–∫—É—â–∏–π MessageBubbleComposable)
   - `components/message/MessageInput.kt` (–ø–∞–Ω–µ–ª—å –≤–≤–æ–¥–∞)
   - `components/message/MessageToolbar.kt` (–ø–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)
   - `components/message/MessageSelectionBar.kt` (–ø–∞–Ω–µ–ª—å –≤—ã–±–æ—Ä–∞)

3. –†–∞–∑–¥–µ–ª–∏—Ç—å MessagesViewModel:
   - `viewmodels/MessageSendingViewModel.kt` (–æ—Ç–ø—Ä–∞–≤–∫–∞)
   - `viewmodels/MessageMediaViewModel.kt` (–º–µ–¥–∏–∞)
   - `viewmodels/MessageEditingViewModel.kt` (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## üìÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ

### 4. –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∏–∫–µ—Ä—ã (PRIORITY: MEDIUM)

**–§–æ—Ä–º–∞—Ç—ã:**
- Lottie (.json)
- Telegram Animated Stickers (.tgs)

**–ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
1. –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```gradle
   implementation "com.airbnb.android:lottie-compose:6.0.0"
   ```

2. –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `AnimatedStickerView.kt`:
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Lottie
   - –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ TGS (gzip + JSON)
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–Ω–∏–º–∞—Ü–∏–π
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ MessagesScreen:
   - –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è "sticker"
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤ –ø–æ —Å—Ç–∏–∫–µ—Ä–∞–º
   - –ü–∞–Ω–µ–ª—å –≤—ã–±–æ—Ä–∞ —Å—Ç–∏–∫–µ—Ä–æ–≤

4. API endpoints:
   - `/api/v2/stickers/get_packs` - –ø–æ–ª—É—á–∏—Ç—å –Ω–∞–±–æ—Ä—ã
   - `/api/v2/stickers/get_pack_stickers` - —Å—Ç–∏–∫–µ—Ä—ã –Ω–∞–±–æ—Ä–∞
   - `/api/v2/stickers/send` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Ç–∏–∫–µ—Ä

**–û—Ü–µ–Ω–∫–∞:** 2-3 –¥–Ω—è

---

### 5. –£–ª—É—á—à–µ–Ω–Ω—ã–π –≤–∏–¥–µ–æ–ø–ª–µ–µ—Ä (PRIORITY: HIGH)

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ InlineVideoPlayer —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚úÖ FullscreenVideoPlayer —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- ‚ùå –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ –≤—Å–µ—Ö –∫–æ–¥–µ–∫–æ–≤
- ‚ùå –ù–µ—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚ùå –ù–µ—Ç PiP (Picture-in-Picture)

**–ü–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏—è:**

1. –°–æ–∑–¥–∞—Ç—å `components/video/AdvancedVideoPlayer.kt`:
   ```kotlin
   @Composable
   fun AdvancedVideoPlayer(
       videoUrl: String,
       isFullscreen: Boolean = false,
       enablePiP: Boolean = true,
       onFullscreenToggle: () -> Unit
   )
   ```

2. –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏:
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –∫–æ–¥–µ–∫–æ–≤ —á–µ—Ä–µ–∑ ExoPlayer
   - Seek bar —Å –ø—Ä–µ–≤—å—é
   - –°–∫–æ—Ä–æ—Å—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è (0.5x, 1x, 1.5x, 2x)
   - –ñ–µ—Å—Ç—ã: —Å–≤–∞–π–ø –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑ –¥–ª—è –≥—Ä–æ–º–∫–æ—Å—Ç–∏, –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ –¥–ª—è –ø–µ—Ä–µ–º–æ—Ç–∫–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
   - Picture-in-Picture mode

3. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```gradle
   implementation "com.google.android.exoplayer:exoplayer:2.19.1"
   implementation "com.google.android.exoplayer:exoplayer-ui:2.19.1"
   implementation "com.google.android.exoplayer:exoplayer-core:2.19.1"
   ```

4. –ö–æ–º–ø—Ä–µ—Å—Å–∏—è –≤–∏–¥–µ–æ:
   - –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ `utils/VideoCompressor.kt`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤—Å–µ—Ö –∫–æ–¥–µ–∫–æ–≤

**–û—Ü–µ–Ω–∫–∞:** 3-4 –¥–Ω—è

---

### 6. –§–æ—Ç–æ—Ä–µ–¥–∞–∫—Ç–æ—Ä (PRIORITY: MEDIUM)

**–§—É–Ω–∫—Ü–∏–∏:**
- –§–∏–ª—å—Ç—Ä—ã (Instagram-style)
- –û–±—Ä–µ–∑–∫–∞ –∏ –ø–æ–≤–æ—Ä–æ—Ç
- –¢–µ–∫—Å—Ç –∏ —Å—Ç–∏–∫–µ—Ä—ã
- –†–∏—Å–æ–≤–∞–Ω–∏–µ (doodles)
- –†–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ —è—Ä–∫–æ—Å—Ç–∏/–∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞

**–ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**

1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É:
   ```gradle
   // Option 1: PhotoEditor (–ø—Ä–æ—â–µ)
   implementation 'com.burhanrashid52:photoeditor:2.0.0'

   // Option 2: GPUImage (–±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è)
   implementation 'jp.co.cyberagent.android:gpuimage:2.1.0'
   ```

2. –°–æ–∑–¥–∞—Ç—å `ui/editor/PhotoEditorActivity.kt`:
   - –†–µ–∂–∏–º—ã: —Ñ–∏–ª—å—Ç—Ä—ã, –æ–±—Ä–µ–∑–∫–∞, —Ç–µ–∫—Å—Ç, —Ä–∏—Å–æ–≤–∞–Ω–∏–µ
   - Preview –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –≤—ã—Å–æ–∫–æ–º –∫–∞—á–µ—Å—Ç–≤–µ

3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
   - –ö–Ω–æ–ø–∫–∞ "Edit" –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ñ–æ—Ç–æ
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∏–∑ –≥–∞–ª–µ—Ä–µ–∏
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∫—ç—à –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π

**–û—Ü–µ–Ω–∫–∞:** 4-5 –¥–Ω–µ–π

---

### 7. –†–∏—Å–æ–≤–∞–Ω–∏–µ (Doodles) (PRIORITY: LOW)

**–ü–ª–∞–Ω:**
1. –°–æ–∑–¥–∞—Ç—å `ui/drawing/DrawingCanvas.kt`:
   - Canvas API –¥–ª—è —Ä–∏—Å–æ–≤–∞–Ω–∏—è
   - –í—ã–±–æ—Ä —Ü–≤–µ—Ç–∞ –∏ —Ç–æ–ª—â–∏–Ω—ã –∫–∏—Å—Ç–∏
   - –õ–∞—Å—Ç–∏–∫
   - –û—Ç–º–µ–Ω–∞/–ø–æ–≤—Ç–æ—Ä –¥–µ–π—Å—Ç–≤–∏–π

2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
   - –û—Ç–¥–µ–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –≤ –ø–∞–Ω–µ–ª–∏ –≤–≤–æ–¥–∞
   - –≠–∫—Å–ø–æ—Ä—Ç –≤ PNG
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

**–û—Ü–µ–Ω–∫–∞:** 2-3 –¥–Ω—è

---

### 8. –°–æ–≤–º–µ—Å—Ç–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (PRIORITY: LOW)

**–û–ø—Ü–∏–∏:**
1. **OnlyOffice –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
   ```xml
   <WebView>
       https://your-onlyoffice-server.com/editor
   </WebView>
   ```
   - –î–æ–∫—É–º–µ–Ω—Ç—ã, —Ç–∞–±–ª–∏—Ü—ã, –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏
   - Real-time collaboration
   - –¢—Ä–µ–±—É–µ—Ç OnlyOffice Document Server

2. **–ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä:**
   - Markdown –ø–æ–¥–¥–µ—Ä–∂–∫–∞
   - WebSocket –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
   - –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —á–µ—Ä–µ–∑ Operational Transform

**–ü–ª–∞–Ω:**
1. –°–æ–∑–¥–∞—Ç—å `ui/documents/DocumentEditorActivity.kt`
2. WebView —Å OnlyOffice
3. API endpoints:
   - `/api/v2/documents/create`
   - `/api/v2/documents/get_edit_url`
   - `/api/v2/documents/save`

**–û—Ü–µ–Ω–∫–∞:** 5-7 –¥–Ω–µ–π (—Å OnlyOffice setup)

---

### 9. –ü–æ–∏—Å–∫ –ø–æ —Ñ–∞–π–ª–∞–º –∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º (PRIORITY: HIGH)

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚ùå –ù–µ—Ç UI –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ —Ñ–∞–π–ª–∞–º
- ‚ùå –ù–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Ç–∏–ø—É –º–µ–¥–∏–∞
- ‚úÖ API endpoint —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: `/api/v2/endpoints/search_group_messages.php`

**–ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**

1. –°–æ–∑–¥–∞—Ç—å `ui/search/MediaSearchScreen.kt`:
   ```kotlin
   @Composable
   fun MediaSearchScreen(
       chatId: Long,
       mediaType: String? = null // "image", "video", "audio", "file"
   )
   ```

2. –§–∏–ª—å—Ç—Ä—ã:
   - –ü–æ —Ç–∏–ø—É –º–µ–¥–∏–∞
   - –ü–æ –¥–∞—Ç–µ
   - –ü–æ —Ä–∞–∑–º–µ—Ä—É —Ñ–∞–π–ª–∞
   - –ü–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—é

3. UI:
   - Grid –¥–ª—è —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ
   - List –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
   - –ë—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä

4. API:
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `search_group_messages.php`
   - –î–æ–±–∞–≤–∏—Ç—å endpoint `/api/v2/search/media`

**–û—Ü–µ–Ω–∫–∞:** 2-3 –¥–Ω—è

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤

```
app/src/main/java/com/worldmates/messenger/
‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ media/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ImageMessageComponent.kt       [NEW]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ VideoMessageComponent.kt       [NEW]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AudioMessageComponent.kt       [NEW]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FileMessageComponent.kt        [NEW]
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StickerMessageComponent.kt     [NEW]
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AnimatedStickerView.kt         [NEW]
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ message/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ MessageBubble.kt               [EXTRACT]
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ MessageInput.kt                [EXTRACT]
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ MessageToolbar.kt              [EXTRACT]
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ MessageSelectionBar.kt         [EXTRACT]
‚îÇ   ‚îú‚îÄ‚îÄ video/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdvancedVideoPlayer.kt             [NEW]
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ VideoPlayerControls.kt             [NEW]
‚îÇ   ‚îú‚îÄ‚îÄ editor/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PhotoEditorActivity.kt             [NEW]
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PhotoFilters.kt                    [NEW]
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DrawingCanvas.kt                   [NEW]
‚îÇ   ‚îú‚îÄ‚îÄ documents/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DocumentEditorActivity.kt          [NEW]
‚îÇ   ‚îî‚îÄ‚îÄ search/
‚îÇ       ‚îú‚îÄ‚îÄ MediaSearchScreen.kt               [NEW]
‚îÇ       ‚îî‚îÄ‚îÄ FileSearchViewModel.kt             [NEW]
‚îî‚îÄ‚îÄ viewmodels/
    ‚îú‚îÄ‚îÄ MessageSendingViewModel.kt             [EXTRACT]
    ‚îú‚îÄ‚îÄ MessageMediaViewModel.kt               [EXTRACT]
    ‚îî‚îÄ‚îÄ MessageEditingViewModel.kt             [EXTRACT]
```

---

## üéØ –ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

### –§–∞–∑–∞ 1: –°—Ä–æ—á–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (1-2 –¥–Ω—è)
1. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –ª–∏–º–∏—Ç—ã —Ñ–∞–π–ª–æ–≤
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ
3. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### –§–∞–∑–∞ 2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (2-3 –¥–Ω—è)
4. –í—ã–Ω–µ—Å—Ç–∏ –º–µ–¥–∏–∞-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ MessagesScreen
5. –†–∞–∑–¥–µ–ª–∏—Ç—å MessagesViewModel
6. –í—ã–Ω–µ—Å—Ç–∏ MessageBubble –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª

### –§–∞–∑–∞ 3: –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (5-7 –¥–Ω–µ–π)
7. –£–ª—É—á—à–∏—Ç—å –≤–∏–¥–µ–æ–ø–ª–µ–µ—Ä
8. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∏—Å–∫ –ø–æ —Ñ–∞–π–ª–∞–º
9. –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∏–∫–µ—Ä—ã

### –§–∞–∑–∞ 4: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (7-10 –¥–Ω–µ–π)
10. –§–æ—Ç–æ—Ä–µ–¥–∞–∫—Ç–æ—Ä
11. Doodles/—Ä–∏—Å–æ–≤–∞–Ω–∏–µ
12. –°–æ–≤–º–µ—Å—Ç–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã (>1500 —Å—Ç—Ä–æ–∫) —Ç—Ä–µ–±—É—é—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏
- –ö–∞–∂–¥—ã–π –∫–æ–º–º–∏—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ–¥–Ω—É –∑–∞–∫–æ–Ω—á–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
- API endpoints –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Android (–º–∏–Ω–∏–º—É–º API 24)

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ñ–æ—Ç–æ
2. –ù–∞—á–∞—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ MessagesScreen.kt
3. –°–æ–∑–¥–∞—Ç—å ImageMessageComponent.kt
4. –ö–æ–º–º–∏—Ç–∏—Ç—å –∏ –ø—É—à–∏—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-02-08
**–ê–≤—Ç–æ—Ä:** Claude AI
**–ü—Ä–æ–µ–∫—Ç:** WorldMates Messenger v2.0
