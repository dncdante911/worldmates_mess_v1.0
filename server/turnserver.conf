# WorldMates TURN Server Configuration
# /etc/turnserver.conf

# Listening port for TURN server
listening-port=3478

# TLS listening port (optional but recommended)
tls-listening-port=5349

# Listening IP (0.0.0.0 for all interfaces)
listening-ip=0.0.0.0

# External IP (your server's public IP - CHANGE THIS!)
# Find your IP with: curl ifconfig.me
external-ip=YOUR_PUBLIC_IP_HERE

# Relay IP (usually same as listening IP)
relay-ip=0.0.0.0

# Realm (your domain)
realm=worldmates.club

# Server name
server-name=worldmates.club

# Enable fingerprint
fingerprint

# Use long-term credential mechanism
lt-cred-mech

# Static auth secret (shared secret for generating credentials)
# This is a random secret key - KEEP IT SECRET!
# Generated with: openssl rand -hex 32
use-auth-secret
static-auth-secret=a7f3e9c2d8b4f6a1c5e8d9b2f4a6c8e1d3f5a7b9c2e4f6a8b1d3f5a7c9e2f4a6

# Total quota (100 sessions)
total-quota=100

# Max bytes per second per session (500 KB/s)
max-bps=500000

# Stale nonce (security feature)
stale-nonce=600

# No multicast
no-multicast-peers

# No loopback peers
no-loopback-peers

# Mobility support
mobility

# SSL/TLS certificates
cert=/var/www/httpd-cert/www-root/worldmates.club_le2.crt
pkey=/var/www/httpd-cert/www-root/worldmates.club_le2.key
# CA certificate (if you have one)
# ca-file=/var/www/httpd-cert/www-root/worldmates.club_le2.crtca

# Cipher list for TLS
cipher-list="ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256"

# Min/Max port range for relay
min-port=49152
max-port=65535

# Verbose logging (disable in production)
verbose

# Log file
log-file=/var/log/turnserver.log

# User database (if you want to use user/password instead of secret)
# userdb=/var/lib/turn/turndb

# Denied peer IPs (optional - for security)
# denied-peer-ip=0.0.0.0-0.255.255.255
# denied-peer-ip=127.0.0.0-127.255.255.255
# denied-peer-ip=169.254.0.0-169.254.255.255

# Allowed peer IPs (optional - for security)
# allowed-peer-ip=YOUR_ALLOWED_IP_RANGE

# No CLI (command line interface)
no-cli

# Process user (for security - run as non-root)
# proc-user=turnserver
# proc-group=turnserver
